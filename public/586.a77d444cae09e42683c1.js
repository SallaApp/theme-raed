/*! For license information please see 586.a77d444cae09e42683c1.js.LICENSE.txt */
"use strict";(self.webpackChunkTheme_Raed=self.webpackChunkTheme_Raed||[]).push([[586],{1586:(t,e,s)=>{s.r(e),s.d(e,{salla_add_product_button:()=>n});var i=s(2708),n=function(){function t(t){(0,i.r)(this,t),this.success=(0,i.c)(this,"success",7),this.failed=(0,i.c)(this,"failed",7),this.hostAttributes={},this.hasLabel=!1,this.channels=null,this.quantity=0,this.donatingAmount=0,this.productStatus="sale",this.productType="product"}return t.prototype.getLabel=function(){return"sale"===this.productStatus?salla.lang.get("pages.cart.add_to_cart"):"donating"!==this.productType?salla.lang.get("pages.products.out_of_stock"):salla.lang.get("pages.products.donation_exceed")},t.prototype.addProductToCart=function(t){var e=this;if("submit"===this.hostAttributes.type)return!1;t.preventDefault();var s=Object.entries({id:this.productId,donating_amount:this.donatingAmount,quantity:this.quantity}).reduce((function(t,e){var s=e[0],i=e[1];return i?(t[s]=i,t):t}),{});return salla.cart.quickAdd(s).then((function(t){return e.success.emit(t)})).catch((function(t){return e.failed.emit(t)}))},t.prototype.getBtnAttributes=function(){for(var t=0;t<this.host.attributes.length;t++)["id","class"].includes(this.host.attributes[t].name)||(this.hostAttributes[this.host.attributes[t].name]=this.host.attributes[t].value);return this.hostAttributes},t.prototype.componentWillLoad=function(){this.hasLabel=!!this.host.innerHTML.replace("\x3c!----\x3e","").trim()},t.prototype.render=function(){var t=this;return(0,i.h)(i.H,null,"out-and-notify"===this.productStatus&&this.channels?(0,i.h)("salla-product-availability",Object.assign({},this.getBtnAttributes()),(0,i.h)("slot",null)):(0,i.h)("salla-button",Object.assign({ref:function(e){return t.btn=e},onClick:function(e){return t.addProductToCart(e)},type:"button",fill:"sale"===this.productStatus?"solid":"outline",color:"sale"===this.productStatus?"primary":"light","loader-position":"center"},this.getBtnAttributes(),{disabled:"sale"!==this.productStatus}),(0,i.h)("slot",null)))},t.prototype.componentDidRender=function(){var t=this;this.hasLabel||(this.btn.setText(this.getLabel()||"اضافة للسلة"),salla.lang.onLoaded((function(){t.btn.setText(t.getLabel()||"اضافة للسلة")})))},Object.defineProperty(t.prototype,"host",{get:function(){return(0,i.g)(this)},enumerable:!1,configurable:!0}),t}();n.style=":host{display:block}salla-add-product-button[width=wide]{width:100%}"}}]);