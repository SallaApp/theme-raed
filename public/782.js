/*! For license information please see 782.js.LICENSE.txt */
"use strict";(self.webpackChunkTheme_One=self.webpackChunkTheme_One||[]).push([[782],{4901:(t,e,s)=>{s.d(e,{H:()=>i}),salla.event.setMaxListeners(20);class n extends salla.AppHelpers{setHost(t){this.host=t}getElement(t){return this.host.querySelector(t)}getAttribute(t,e){var s;return null===(s=this.getElement(t))||void 0===s?void 0:s.getAttribute(e)}val(t){return this.getAttribute(t,"value")}isUser(){return"user"===salla.config.get("user.type")}}const i=new n},4782:(t,e,s)=>{s.r(e),s.d(e,{salla_quantity_input:()=>a});var n=s(6298),i=s(4901);const a=class{constructor(t){(0,n.r)(this,t),this.hostAttributes={},this.hasIncrementSlot=!1,this.hasDecrementSlot=!1,this.didLoaded=!1,this.quantity=1}watchPropHandler(){this.didLoaded&&i.H.debounce((()=>salla.document.event.fireEvent(this.textInput,"change",{bubbles:!0})))}componentWillLoad(){this.quantity=parseInt(this.host.getAttribute("value"))||1,this.hasIncrementSlot=!!this.host.querySelector('[slot="increment-button"]'),this.hasDecrementSlot=!!this.host.querySelector('[slot="decrement-button"]')}componentDidLoad(){this.didLoaded=!0,this.textInput.addEventListener("input",(t=>salla.helpers.inputDigitsOnly(t.target)))}getInputAttributes(){for(let t=0;t<this.host.attributes.length;t++)["id","value","min","class"].includes(this.host.attributes[t].name)||(this.hostAttributes[this.host.attributes[t].name]=this.host.attributes[t].value);return this.hostAttributes}async decrease(){return this.setValue(this.quantity-1)}async increase(){return this.setValue(this.quantity+1)}async setValue(t){let e=parseInt(this.host.getAttribute("max"));return e&&t>e&&(t=e),t<=1&&(t=1),this.quantity=t,this.host}render(){return(0,n.h)(n.H,{class:"s-quantity-input s-quantity-input-container"},(0,n.h)("button",{onClick:()=>this.increase(),class:"s-quantity-input-increase-button s-quantity-input-button",type:"button"},this.hasIncrementSlot?"":(0,n.h)("i",{class:"sicon-add"}),(0,n.h)("slot",{name:"increment-button"})),(0,n.h)("input",Object.assign({class:"s-quantity-input-input"},this.getInputAttributes(),{ref:t=>this.textInput=t,onInput:t=>this.setValue(t.target.value),min:"1",value:this.quantity})),(0,n.h)("button",{class:"s-quantity-input-decrease-button s-quantity-input-button",onClick:()=>this.decrease(),type:"button"},this.hasDecrementSlot?"":(0,n.h)("i",{class:"sicon-minus"}),(0,n.h)("slot",{name:"decrement-button"})))}get host(){return(0,n.g)(this)}static get watchers(){return{quantity:["watchPropHandler"]}}};a.style=""}}]);