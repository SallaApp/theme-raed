/*! For license information please see 932.js.LICENSE.txt */
"use strict";(self.webpackChunkTheme_One=self.webpackChunkTheme_One||[]).push([[932],{4932:(t,s,e)=>{e.r(s),e.d(s,{salla_add_product_button:()=>i});var a=e(6298);const i=class{constructor(t){(0,a.r)(this,t),this.success=(0,a.c)(this,"success",7),this.failed=(0,a.c)(this,"failed",7),this.hostAttributes={},this.hasLabel=!1,this.channels=null,this.quantity=0,this.donatingAmount=0,this.productStatus="sale",this.productType="product"}getLabel(){return"sale"===this.productStatus?salla.lang.get("pages.cart.add_to_cart"):"donating"!==this.productType?salla.lang.get("pages.products.out_of_stock"):salla.lang.get("pages.products.donation_exceed")}addProductToCart(t){if("submit"===this.hostAttributes.type)return!1;t.preventDefault();const s=Object.entries({id:this.productId,donating_amount:this.donatingAmount,quantity:this.quantity}).reduce(((t,[s,e])=>e?(t[s]=e,t):t),{});return salla.cart.quickAdd(s).then((t=>this.success.emit(t))).catch((t=>this.failed.emit(t)))}getBtnAttributes(){for(let t=0;t<this.host.attributes.length;t++)["id","class"].includes(this.host.attributes[t].name)||(this.hostAttributes[this.host.attributes[t].name]=this.host.attributes[t].value);return this.hostAttributes}componentWillLoad(){this.hasLabel=!!this.host.innerHTML.replace("\x3c!----\x3e","").trim()}render(){return(0,a.h)(a.H,null,"out-and-notify"===this.productStatus&&this.channels?(0,a.h)("salla-product-availability",Object.assign({},this.getBtnAttributes()),(0,a.h)("slot",null)):(0,a.h)("salla-button",Object.assign({ref:t=>this.btn=t,onClick:t=>this.addProductToCart(t),type:"button",fill:"sale"===this.productStatus?"solid":"outline",color:"sale"===this.productStatus?"primary":"light","loader-position":"center"},this.getBtnAttributes(),{disabled:"sale"!==this.productStatus}),(0,a.h)("slot",null)))}componentDidRender(){this.hasLabel||salla.event.on("languages::translations.loaded",(()=>this.btn.setText(this.getLabel()||"اضافة للسلة")))}get host(){return(0,a.g)(this)}};i.style=":host{display:block}salla-add-product-button[width=wide]{width:100%}"}}]);